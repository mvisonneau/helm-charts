# unpoller

![Version: 0.0.3](https://img.shields.io/badge/Version-0.0.3-informational?style=flat-square) ![AppVersion: 2.1.3](https://img.shields.io/badge/AppVersion-2.1.3-informational?style=flat-square)

Deploy UniFi Poller

**Homepage:** <https://unpoller.com>

## Maintainers

| Name | Email | Url |
| ---- | ------ | --- |
| mvisonneau | <maxime.visonneau@gmail.com> |  |

## Source Code

* <https://unpoller.com>

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| affinity | object | `{}` |  |
| annotations | object | `{}` | Additional annotations to add to all resources  |
| dnsPolicy | string | `"ClusterFirst"` |  |
| hostAliases | object | `{}` | allows you to configure custom host aliases |
| hostNetwork | bool | `false` |  |
| image.pullPolicy | string | `"IfNotPresent"` |  |
| image.repository | string | `"docker.io/golift/unifi-poller"` |  |
| labels | object | `{}` | Additional labels to add to all resources  |
| nodeSelector | object | `{}` |  |
| podAnnotations | object | `{}` | Additional annotations for the pods |
| podLabels | object | `{}` | Additional labels for the pods |
| replicas | int | `1` |  |
| resources | object | `{}` |  |
| securityContext | object | `{}` |  |
| tolerations | list | `[]` |  |
| unpoller.config | string | `"# Unpoller v2 primary configuration file. TOML FORMAT #\n###########################################################\n\n[poller]\n  # Turns on line numbers, microsecond logging, and a per-device log.\n  # The default is false, but I personally leave this on at home (four devices).\n  # This may be noisy if you have a lot of devices. It adds one line per device.\n  debug = true\n\n  # Turns off per-interval logs. Only startup and error logs will be emitted.\n  # Recommend enabling debug with this setting for better error logging.\n  quiet = false\n\n  # Load dynamic plugins. Advanced use; only sample mysql plugin provided by default.\n  plugins = []\n\n[prometheus]\n  disable = false\n  http_listen = \"0.0.0.0:9130\"\n  ssl_cert_path = \"\"\n  ssl_key_path  = \"\"\n  report_errors = false\n  dead_ports = false\n\n[influxdb]\n  disable = true\n\n[loki]\n  url = \"\"\n\n[datadog]\n  disable = true\n  interval = \"20s\"\n\n  # Datadog Custom Options\n\n  # address to talk to the datadog agent, by default this uses the local statsd UDP interface\n  # address = \"localhost:8125\"\n\n  # namespace to prepend to all data, default is no additional prefix.\n  # namespace = \"\"\n\n  # tags to append to all data\n  # tags = [ \"customer:abc_corp\" ]\n\n  # For more advanced options for very large amount of data collected see the upstream\n  # github.com/unpoller/datadogunifi repository README.\n\n\n# Unpoller has an optional web server. To turn it on, set enable to true. If you\n# wish to use SSL, provide SSL cert and key paths. This interface is currently\n# read-only; it just displays information, like logs, devices and clients.\n# Notice: Enabling the web server with many sites will increase memory usage.\n# This is a new feature and lacks a UI, enabling only recommended for testing.\n[webserver]\n  enable = true\n  port   = 37288\n  # The HTML path is different on Windows and BSD/macOS.\n  html_path     = \"/usr/lib/unifi-poller/web\"\n  ssl_cert_path = \"\"\n  ssl_key_path  = \"\"\n  # How many events per event group to hold. 200-2000. Use fewer with many sites.\n  # With 1 site, you'll have a max total of 9 event groups; 1 per plugin, 4 per site.\n  # Each site adds 1 event group for each of these inputs that is enabled:\n  #   save_ids, save_events, save_anomalies, save_alarms.\n  max_events = 200\n\n# By default the web interface does not require authentication. You can change\n# that by adding a username and password hash (or multiple) below.\n# To create a hash, run unifi-poller with the -e CLI argument. See Wiki for more!\n[webserver.accounts]\n# username = \"password-hash\"\n# captain = \"$2a$04$mxw6i0LKH6u46oaLK2cq5eCTAAFkfNiRpzNbz.EyvJZZWNa2FzIlS\"\n\n#### INPUTS\n\n[unifi]\n  # Setting this to true and providing default credentials allows you to skip\n  # configuring controllers in this config file. Instead you configure them in\n  # your prometheus.yml config. Prometheus then sends the controller URL to\n  # Unpoller when it performs the scrape. This is useful if you have many,\n  # or changing controllers. See wiki for more.\n  dynamic = false\n\n# The following section contains the default credentials/configuration for any\n# dynamic controller (see above section), or the primary controller if you do not\n# provide one and dynamic is disabled. In other words, you can just add your\n# controller here and delete the following section. The internal defaults are\n# shown below. Any missing values will assume these displayed defaults.\n\n[unifi.defaults]\n  # URL for the UniFi Controller. Do not add any paths after the host:port.\n  # Do not use port 8443 if you have a UDM; just use \"https://ip\".\n  # url = \"https://10.10.10.10\"\n\n  # Make a read-only user in the UniFi Admin Settings, allow it access to all sites.\n  # user = \"monitoring\"\n\n  # Password for UniFi controller user (above).\n  # If the password provided here begins with file:// then the password is read in from\n  # the file path that follows the file:// prefix. ex: file:///etc/unifi/password.file\n  # ex: file:///etc/unifi/passwd.file, windows: file://C:\\\\UserData\\\\Unifi\\\\Passwd.txt\n  # pass = \"your_password\"\n\n  # If the controller has more than one site, specify which sites to poll here.\n  # Set this to [\"default\"] to poll only the first site on the controller.\n  # A setting of [\"all\"] will poll all sites; this works if you only have 1 site too.\n  sites = [\"all\"]\n\n  # Enable collection of site data. This data powers the Network Sites dashboard.\n  # It's not valuable to everyone and setting this to false will save resources.\n  save_sites = true\n\n  # Hash, with md5, client names and MAC addresses. This attempts to protect\n  # personally identifiable information. Most users won't want to enable this.\n  hash_pii = false\n\n  # Enable collection of Intrusion Detection System Data (InfluxDB/Loki only).\n  # Only useful if IDS or IPS are enabled on one of the sites. This may store\n  # a lot of information. Only recommended for testing and debugging. There\n  # may not be any dashboards to display this data. It can be used for annotations.\n  # Enable this only if using InfluxDB or Loki. This will leak PII data!\n  save_ids = true\n\n  # Enable collection of UniFi Events (InfluxDB/Loki only).\n  # This may store a lot of information. Only recommended for testing and debugging.\n  # There are no dashboards to display this data. It can be used for annotations.\n  # This is a new (June, 2020) feature. Please provide feedback if you try it out!\n  # Enable this only if using InfluxDB or Loki. This will leak PII data!\n  save_events = true\n\n  # Enable collection of UniFi Alarms (InfluxDB/Loki only).\n  # There are no dashboards to display this data. It can be used for annotations.\n  # This is a new (June, 2020) feature. Please provide feedback if you try it out!\n  # Enable this only if using InfluxDB or Loki. This will leak PII data!\n  save_alarms = true\n\n  # Enable collection of UniFi Anomalies (InfluxDB/Loki only).\n  # There are no dashboards to display this data. It can be used for annotations.\n  # This is a new (June, 2020) feature. Please provide feedback if you try it out!\n  # Enable this only if using InfluxDB or Loki.\n  save_anomalies = true\n\n  # Enable collection of Deep Packet Inspection data. This data breaks down traffic\n  # types for each client and site, it powers a dedicated DPI dashboard.\n  # Enabling this adds roughly 150 data points per client.  That's 6000 metrics for\n  # 40 clients.  This adds a little bit of poller run time per interval and causes\n  # more API requests to your controller(s). Don't let these \"cons\" sway you:\n  # it's cool data. Please provide feedback on your experience with this feature.\n  save_dpi = false\n\n  ## Enabling save_rogue stores even more data in your time series databases.\n  ## This saves neighboring access point metrics in a dedicated table or namespace.\n  save_rogue = false\n\n  # If your UniFi controller has a valid SSL certificate (like lets encrypt),\n  # you can enable this option to validate it. Otherwise, any SSL certificate is\n  # valid. If you don't know if you have a valid SSL cert, then you don't have one.\n  verify_ssl = false\n\n  ## You may provide a list of SSL cert files (PEM format) that you expect your\n  ## controller to use. As long as one of the certs you provide here shows up in\n  ## the cert trust chain the controller presents it will be accepted and allowed.\n  ## These files may be re-read while poller is running.\n  ## Example: ssl_cert_paths = [\"/path/to/cert.pem\", \"/another/cert.pem\"]\n  ssl_cert_paths = []\n\n# The following is optional and used for configurations with multiple UniFi controllers.\n\n# You may repeat the following [[unifi.controller]] section as many times as needed to\n# poll multiple controllers. Uncomment the entire section including [[unifi.controller]].\n# Omitted variables will have their values taken from the defaults, above.\n#\n#[[unifi.controller]]\n#  url         = \"https://127.0.0.1:8443\"\n#  user        = \"unifipoller\"\n#  pass        = \"unifipoller\"\n#  sites       = [\"all\"]\n#  save_sites  = true\n#  hash_pii    = false\n#  save_ids    = false\n#  save_events = false\n#  save_alarms = false\n#  save_anomalies = false\n#  save_dpi    = false\n#  save_rogue  = false\n#  verify_ssl  = false\n#  ssl_cert_paths = []\n"` |  |

